<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Iteraci칩n #3: Mix Fors- Gonzalo Arechavala</title>

    <script>

        // Iteraci칩n #3: Mix Fors

        // Dado el siguiente javascript usa forof y forin para saber cuantas veces ha sido cada sonido agregado por los usuarios a favorito. Para ello recorre la lista de usuarios y usa forin para recoger el nombre de los sonidos que el usuario tenga como favoritos.
        // Una vez accedas a ellos piensa en la mejor forma de hacer un conteo de cada vez que ese sonido se repita como favorito en cada usuario.

        // Este ejercicio es un poco complicado con los conocimientos actuales pero...a la vez un buen reto y oportunidad para comprender que hay muchas formas de hacer las cosas en javascript.


        const users = [
            {
                name: 'Manolo el del bombo',
                favoritesSounds: {
                    waves: { format: 'mp3', volume: 50 },
                    rain: { format: 'ogg', volume: 60 },
                    firecamp: { format: 'mp3', volume: 80 },
                }
            },
            {
                name: 'Mortadelo',
                favoritesSounds: {
                    waves: { format: 'mp3', volume: 30 },
                    shower: { format: 'ogg', volume: 55 },
                    train: { format: 'mp3', volume: 60 },
                }
            },
            {
                name: 'Super Lopez',
                favoritesSounds: {
                    shower: { format: 'mp3', volume: 50 },
                    train: { format: 'ogg', volume: 60 },
                    firecamp: { format: 'mp3', volume: 80 },
                }
            },
            {
                name: 'El culebra',
                favoritesSounds: {
                    waves: { format: 'mp3', volume: 67 },
                    wind: { format: 'ogg', volume: 35 },
                    firecamp: { format: 'mp3', volume: 60 },
                }
            },
        ]

        // Recorremos el array inicial y cargamos los sonidos favoritos en un nuevo array sonidoFavorito.


        // Variables para controlar los favoritos.
        const sonidoFavorito = [];
        const contadorFavorito = {};

        for (user of users) {

            // Pasamos las canciones a favorito
            const favorito = user.favoritesSounds;

            // Recorremos el objeto de sonidos resultante.
            const indexSonido = Object.keys(favorito);
            //console.log(indexSonido);

            // Recorreoms el objeto final (waves, wind, firecamp, ...) para cargarlos en el nuevo array.
            for (let index = 0; index < indexSonido.length; index++) {
                //console.log(indexSonido[index]);
                sonidoFavorito.push(indexSonido[index]);
            }
        }

        console.log("Vemos el resultado del array sonidoFavorito " + sonidoFavorito);

        for (let index = 0; index < sonidoFavorito.length; index++) {
            // Vamos comprobando en cada pasada si el elemento existe en array contadorFavoritos
            // Si existe, le suma uno y si no existe, lo a침ade al array.
            console.log("Pasada " + index);
            console.log("Valor del contador:");
            console.log(contadorFavorito[index]);
            console.log("Valor del sonido:");
            console.log(sonidoFavorito[index]);


        }



        console.log(contadorFavorito);


    </script>

</head>

<body>

    <h1>Iteraci칩n #3: Mix Fors - Gonzalo Arechavala</h1>
    <p>Para visualizar los resultados de los ejercicios debe abrirse la consola del navegador.</p>

</body>

</html>